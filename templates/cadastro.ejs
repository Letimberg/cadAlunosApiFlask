<!doctype html>
<html lang="pt-BR" data-bs-theme="auto">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Página de cadastro</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.7.0/dist/css/bootstrap.min.css">

    <link rel="canonical" href="https://getbootstrap.com/docs/5.3/examples/blog/">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz"
        crossorigin="anonymous"></script>

</head>

<body>

 

    <!-- modal atualizar -->
    <div class="modal fade" id="atualizar-aluno" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Atualizar dados do aluno</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>

                <!-- modal-body modalBody -->
                <div class="modal-body">
                    <form class="row g-3" method="POST">

                        {%if alunos %}
                        {%for aluno in alunos %}
                        <div class="col-md-6">
                            <label class="form-label">Nome do aluno</label>
                            <input type="text" class="form-control" name="nome" value="{{ aluno.nome }}" required>
                        </div>
                        <div class="col-md-2">
                            <label class="form-label">AV1</label>
                            <input type="text" class="form-control" name="av1" value="{{ aluno.av1 }} " required>
                        </div>
                        <div class="col-md-2">
                            <label class="form-label">AV2</label>
                            <input type="text" class="form-control" name="av2" value="{{ aluno.av2 }} " required>
                        </div>
                        <div class="col-md-2">
                            <label class="form-label">Média</label>
                            <input type="text" class="form-control" name="media" value="{{ aluno.media }}" required>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Fechar</button>
                            <button class="btn btn-primary" type="submit">Atualizar</button>
                        </div>
                        {% endfor %}
                        {% endif %}
                    </form>
                </div>
                <!-- /.modal-body modalBody -->
            </div>
        </div>
    </div>
    <!-- /.modal atualizar -->

    <!-- modal excluir -->
    <div class="modal fade" id="excluir-aluno" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Excluir aluno</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>

                <!-- modal-body modalBody -->
                <div class="modal-body">
                    <form class="row g-3" action="" method="DELETE">
                        <div class="modal-body">
                            <h3>Você está certo disso?</h3>
                            <h4>Essa ação não pode ser desfeita!</h4>
                        </div>

                        <div class="modal-footer">
                            <a type="submit" class="btn btn-primary">Sim</a>
                            <button data-dismiss="modal" class="btn btn-danger">Não</button>
                        </div>
                    </form>
                </div>
                <!-- /.modal-body modalBody -->
            </div>
        </div>
    </div>
    <!-- /.modal cadastrar -

    <!-- container header -->
    <div class="container">
        <header class="border-bottom lh-1 py-3">
            <div class="row flex-nowrap justify-content-between align-items-center">
                <div class="text-center">
                    <h1 href="#">Página de cadastro</h1>
                </div>
            </div>
        </header>
    </div>
    <!-- /.container header -->

    <!-- container table -->
    <main class="container">
        <div class="p-4 p-md-5 mb-4 rounded text-body-emphasis bg-body-secondary">
            <div class="row">
                <table class="table table-bordered table-hover">
                    <thead>
                        <tr align="center">
                            <th>ID</th>
                            <th>Nome</th>
                            <th>AV1</th>
                            <th>AV2</th>
                            <th>Média</th>
                            <th>Ações</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for aluno in alunos %}
                        <tr align="center">
                            <td>{{aluno._id}}</td>
                            <td>{{aluno.nome}}</td>
                            <td>{{aluno.av1}}</td>
                            <td>{{aluno.av2}}</td>
                            <td>{{aluno.media}}</td>
                            <td>

                                <a type="button" class="btn btn-outline-warning" data-bs-toggle="modal"
                                    data-bs-target="#atualizar-aluno">
                                    Editar
                                </a>
                                <a href="/excluir/{{ aluno._id}}" class="btn btn-outline-danger" data-bs-toggle=""
                                    data-bs-target="">
                                    Excluir
                                </a>
                            </td>

                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>
        <!-- cadastros -->
        <button type="button" class="btn btn-outline-primary" data-bs-toggle="modal"
            data-bs-target="#modal-cadastrar-aluno">
            Cadastrar aluno
        </button>
    </main>
    <br>
    <!-- /.container table -->

    <footer class="py-5 text-center text-body-secondary bg-body-tertiary">
        <a class="nav-item nav-link link-body-emphasis active">DISCIPLINA: DESENVOLVIMENTO RÁPIDO DE APLICAÇÕES EM
            PYTHON</a>
    </footer>
    
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="../assets/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
        integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js"
        integrity="sha384-fbbOQedDUMZZ5KreZpsbe1LCZPVmfTnH7ois6mU1QK+m14rQ1l2bGBq41eYeM/fS"
        crossorigin="anonymous"></script>
</body>

</html>